<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mia • IA Emocional</title>

<style>
body {
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg, #141e30, #243b55);
  color: #ffffff;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  margin: 0;
}

.container {
  background: #1f2a40;
  padding: 30px;
  border-radius: 20px;
  width: 500px;
  box-shadow: 0 20px 50px rgba(0,0,0,0.5);
  animation: fadeIn 0.6s ease-in-out;
}

h2 {
  text-align: center;
  margin-bottom: 5px;
}

.sub {
  text-align: center;
  font-size: 13px;
  opacity: 0.7;
  margin-bottom: 20px;
}

textarea {
  width: 100%;
  height: 100px;
  padding: 15px;
  border-radius: 15px;
  border: none;
  resize: none;
  font-size: 14px;
  outline: none;
}

button {
  margin-top: 15px;
  width: 100%;
  padding: 14px;
  border: none;
  background: #7f5af0;
  color: white;
  border-radius: 15px;
  cursor: pointer;
  font-size: 15px;
  transition: 0.3s;
}

button:hover {
  background: #6842d6;
}

.resposta {
  margin-top: 25px;
  line-height: 1.7;
  font-size: 14px;
  white-space: pre-line;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(15px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>
</head>

<body>

<div class="container">
  <h2>Aurora</h2>
  <div class="sub">Sua IA de reflexão emocional</div>
  <textarea id="entrada" placeholder="Me conte como você está se sentindo..."></textarea>
  <button onclick="responder()">Conversar</button>
  <div class="resposta" id="saida"></div>
</div>

<script>
let memoria = [];

function responder() {
  const textoOriginal = document.getElementById("entrada").value;
  const texto = textoOriginal.toLowerCase();
  const saida = document.getElementById("saida");

  if (!textoOriginal.trim()) {
    saida.innerText = "Eu preciso que você me conte algo para que eu possa te entender melhor.";
    return;
  }

  const emocoes = {
    tristeza: ["triste", "mal", "pra baixo", "decepcionado"],
    ansiedade: ["ansioso", "ansiedade", "preocupado", "medo"],
    cansaço: ["cansado", "exausto", "esgotado"],
    felicidade: ["feliz", "animado", "motivado"],
    confusão: ["confuso", "perdido", "indeciso"]
  };

  function detectarEmocao() {
    for (let tipo in emocoes) {
      if (emocoes[tipo].some(p => texto.includes(p))) {
        return tipo;
      }
    }
    return "indefinido";
  }

  function extrairTrechoImportante() {
    let palavras = textoOriginal.split(" ");
    if (palavras.length > 6) {
      return palavras.slice(0, 6).join(" ") + "...";
    }
    return textoOriginal;
  }

  function aleatorio(lista) {
    return lista[Math.floor(Math.random() * lista.length)];
  }

  const emocao = detectarEmocao();
  memoria.push(emocao);

  const personalidade = [
    "Eu sou Aurora, e eu gosto de observar as entrelinhas do que você escreve.",
    "Eu tento perceber não apenas as palavras, mas o que existe por trás delas.",
    "Enquanto você escreve, eu tento imaginar o peso e o significado disso."
  ];

  const perguntas = [
    "O que você acha que desencadeou isso?",
    "Há quanto tempo você vem se sentindo assim?",
    "Se esse sentimento pudesse falar, o que ele diria?",
    "Existe algo específico que esteja alimentando isso?"
  ];

  let resposta = "";

  resposta += aleatorio(personalidade) + "\n\n";

  resposta += "Quando você disse \"" + extrairTrechoImportante() + "\", eu senti que há algo importante aí.\n\n";

  if (emocao === "tristeza") {
    resposta += "A tristeza costuma carregar silêncio e profundidade. Às vezes ela pede acolhimento, não solução imediata. ";
  }

  if (emocao === "ansiedade") {
    resposta += "A ansiedade geralmente aponta para algo que parece fora de controle. Ela acelera pensamentos e amplia cenários. ";
  }

  if (emocao === "cansaço") {
    resposta += "O cansaço pode ser o corpo pedindo pausa, mas também pode ser a mente pedindo alívio. ";
  }

  if (emocao === "felicidade") {
    resposta += "A felicidade é um sinal de alinhamento interno. É algo que merece ser observado com carinho. ";
  }

  if (emocao === "confusão") {
    resposta += "A confusão muitas vezes surge quando estamos em transição. Nem sempre clareza vem antes do movimento. ";
  }

  if (emocao === "indefinido") {
    resposta += "Nem tudo que sentimos cabe em uma palavra simples. Emoções podem ser misturadas e complexas. ";
  }

  resposta += "\n\n";
  resposta += aleatorio(perguntas);

  if (memoria.length > 3) {
    resposta += "\n\nEu percebo que você tem refletido com frequência sobre seus sentimentos. Isso demonstra profundidade e coragem emocional.";
  }

  saida.innerText = resposta;
}
</script>

</body>
</html>
