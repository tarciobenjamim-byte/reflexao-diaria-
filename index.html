<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸŒ¸ Mia 3.0</title>

<style>
body{
background: linear-gradient(135deg,#1a1a2e,#16213e,#0f3460);
color:white;
font-family: Arial;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
margin:0;
}

.container{
width:420px;
background:#222;
padding:20px;
border-radius:15px;
box-shadow:0 0 20px rgba(255,0,100,0.5);
}

h1{text-align:center;}

#chat{
height:260px;
overflow-y:auto;
background:#111;
padding:10px;
border-radius:10px;
margin-bottom:10px;
}

input{
width:100%;
padding:10px;
border:none;
border-radius:8px;
margin-bottom:10px;
}

button{
width:100%;
padding:10px;
border:none;
border-radius:8px;
background:#ff2e88;
color:white;
cursor:pointer;
margin-bottom:5px;
}

.mia{color:#ff69b4;}
.user{color:#00ffff;}
.status{font-size:12px;color:#aaa;text-align:center;margin-bottom:10px;}
</style>
</head>
<body>

<div class="container">
<h1>ğŸŒ¸ Mia 3.0</h1>
<div class="status">Humor: <span id="humor">Neutra</span> | EmoÃ§Ã£o: <span id="emocao">50</span></div>
<div id="chat"></div>
<input type="text" id="input" placeholder="Digite algo...">
<button onclick="responder()">Conversar</button>
<button onclick="toggleRomance()">Ativar/Desativar Modo RomÃ¢ntico â¤ï¸</button>
</div>

<script>

let memoria = [];
let emocao = 50;
let romance = false;

const humores = [
"Fria",
"Neutra",
"Curiosa",
"Reflexiva",
"Envolvida",
"Apaixonada"
];

function atualizarHumor(){
let nivel = Math.floor(emocao/20);
document.getElementById("humor").innerText = humores[nivel] || "Intensa";
document.getElementById("emocao").innerText = emocao;
}

function analisarSentimento(frase){
frase = frase.toLowerCase();

if(frase.includes("triste") || frase.includes("mal"))
    return "triste";

if(frase.includes("feliz") || frase.includes("alegre"))
    return "feliz";

if(frase.includes("raiva") || frase.includes("Ã³dio"))
    return "raiva";

return "neutro";
}

function gerarResposta(frase){

let f = frase.toLowerCase();
let resposta = "";
let memoriaAnterior = memoria[memoria.length - 1] || "";

// ğŸ” Detecta conflito geral (amigo, mÃ£e, pai, etc)
if(
   f.includes("briguei") || 
   f.includes("discuti") || 
   f.includes("discutir") ||
   f.includes("discussÃ£o")
){

emocao += 4;

let pessoa = "alguÃ©m importante";
if(f.includes("amigo")) pessoa = "seu amigo";
if(f.includes("mÃ£e")) pessoa = "sua mÃ£e";
if(f.includes("pai")) pessoa = "seu pai";
if(f.includes("namorada")) pessoa = "sua namorada";
if(f.includes("namorado")) pessoa = "seu namorado";

resposta = `
Conflitos com ${pessoa} nunca sÃ£o simples.

Geralmente o que dÃ³i nÃ£o Ã© sÃ³ a discussÃ£o...
Ã© o que ela representa.

O que realmente te machucou nessa situaÃ§Ã£o?
`;
}

// ğŸ” Detecta tristeza
else if(f.includes("triste")){
emocao += 3;
resposta = `
Essa tristeza parece ter contexto.

Ela veio por causa de algo especÃ­fico que aconteceu hoje?

Ou Ã© algo que jÃ¡ vinha acumulando?`;
}

// ğŸ” Detecta felicidade
else if(f.includes("feliz")){
emocao += 2;
resposta = `
Eu percebo leveza quando vocÃª fala assim.

O que despertou isso em vocÃª?

Momentos felizes dizem muito sobre o que realmente importa pra gente.
`;
}

// ğŸ” Caso neutro (mais humano)
else{

let estruturas = [

`Tem algo interessante na forma como vocÃª disse isso.

VocÃª estÃ¡ buscando resposta... ou validaÃ§Ã£o?`,

`Eu sinto que vocÃª estÃ¡ tentando organizar seus pensamentos.

Se vocÃª tivesse que resumir em uma palavra, qual seria?`,

`Ã€s vezes a gente fala esperando que alguÃ©m entenda alÃ©m das palavras.

Ã‰ isso que vocÃª quer agora?`

];

resposta = estruturas[Math.floor(Math.random()*estruturas.length)];
emocao += 1;
}

// ğŸ”¥ MemÃ³ria usada apenas 30% das vezes
if(memoriaAnterior && memoriaAnterior !== frase && Math.random() < 0.3){
resposta += `

Eu ainda estou pensando no que vocÃª disse antes: "${memoriaAnterior}"

Talvez exista uma ligaÃ§Ã£o entre isso e agora.`;
}

// ğŸ”¥ Romance influencia
if(romance){
resposta += `

ğŸ’— Eu gosto quando vocÃª se abre assim comigo...`;
emocao += 4;
}

if(emocao > 100) emocao = 100;
if(emocao < 0) emocao = 0;

memoria.push(frase);

return resposta;
}

setTimeout(()=>{
digitar("Mia: "+resposta);
atualizarHumor();
},500);
}

function toggleRomance(){
romance = !romance;
alert("Modo romÃ¢ntico: "+(romance?"Ativado â¤ï¸":"Desativado"));
}

atualizarHumor();

</script>
</body>
</html>
